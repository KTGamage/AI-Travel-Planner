import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
 
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate travel plan for location: Las Vegas, for 3 days for couple with a cheap budget, give me a hotels options list with hotel name, hotel address, price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with place name , place details, place image url, geo coordinates, ticket pricing, rating, time travel each of the location for 3 days with each day plan with best time to visit in JSON format. write one code including all the details"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"travelPlan\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"budget\": \"Cheap (Couple)\",\n    \"hotels\": [\n      {\n        \"name\": \"Circus Circus Hotel, Casino & Theme Park\",\n        \"address\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"price\": \"$40 - $80 per night (depending on season and promotions)\",\n        \"imageUrl\": \"https://www.circuscircus.com/wp-content/uploads/2023/11/circus-circus-hotel-casino-theme-park-las-vegas-nv-exterior-day-16x9.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1286,\n          \"longitude\": -115.1658\n        },\n        \"rating\": 3.5,\n        \"description\": \"Budget-friendly option with a circus theme, offering affordable rooms and family-friendly entertainment, including a theme park and free circus acts. While not the most luxurious, it provides a good value for the price.\"\n      },\n      {\n        \"name\": \"Excalibur Hotel & Casino\",\n        \"address\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"price\": \"$50 - $90 per night (depending on season and promotions)\",\n        \"imageUrl\": \"https://www.excalibur.com/content/dam/MGM/Excalibur/Exterior/excalibur-hotel-casino-exterior-daytime.tif\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.0983,\n          \"longitude\": -115.1744\n        },\n        \"rating\": 4.0,\n        \"description\": \"A castle-themed hotel with budget-friendly rates, offering basic but comfortable rooms, a variety of dining options, and entertainment. Located at the south end of the Strip, it provides easy access to other attractions.\"\n      },\n       {\n        \"name\": \"Luxor Hotel & Casino\",\n        \"address\": \"3900 S Las Vegas Blvd, Las Vegas, NV 89119\",\n        \"price\": \"$60 - $100 per night (depending on season and promotions)\",\n        \"imageUrl\": \"https://www.luxor.com/content/dam/MGM/Luxor/Exterior/luxor-hotel-casino-exterior-pyramid-night.tif\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.0956,\n          \"longitude\": -115.1764\n        },\n        \"rating\": 4.0,\n        \"description\": \"An Egyptian-themed hotel with budget-friendly rates, offering unique rooms, a variety of dining options, and entertainment. Located at the south end of the Strip, it provides easy access to other attractions.\"\n      }\n    ],\n    \"itinerary\": {\n      \"day1\": {\n        \"theme\": \"Exploring the Strip (South End) & Free Attractions\",\n        \"schedule\": [\n          {\n            \"placeName\": \"Welcome to Las Vegas Sign\",\n            \"placeDetails\": \"Iconic sign for a photo opportunity. Arrive early to avoid crowds.\",\n            \"imageUrl\": \"https://www.lasvegasnevada.gov/files/sharedassets/public/images/welcome-to-fabulous-las-vegas-sign.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.0828,\n              \"longitude\": -115.1731\n            },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.5,\n            \"timeToVisit\": \"Morning (8:00 AM - 9:00 AM)\",\n            \"travelTimeFromHotel\": \"Depends on hotel location (e.g., 10-15 minutes from Excalibur via ride share).\"\n          },\n          {\n            \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n            \"placeDetails\": \"Stunning floral displays that change seasonally. A free and beautiful attraction.\",\n            \"imageUrl\": \"https://www.bellagio.com/content/dam/MGM/Bellagio/entertainment/Conservatory/bellagio-conservatory-and-botanical-garden-chinese-new-year-exterior-16x9.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1126,\n              \"longitude\": -115.1761\n            },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.8,\n            \"timeToVisit\": \"Late Morning (11:00 AM - 12:00 PM)\",\n            \"travelTimeFromPrevious\": \"Ride share (approx. 15-20 minutes).\"\n          },\n          {\n            \"placeName\": \"Bellagio Fountains\",\n            \"placeDetails\": \"Spectacular water show set to music. Free and runs frequently.\",\n            \"imageUrl\": \"https://www.bellagio.com/content/dam/MGM/Bellagio/entertainment/fountains-of-bellagio/fountains-of-bellagio-daytime.tif\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1129,\n              \"longitude\": -115.1761\n            },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.7,\n            \"timeToVisit\": \"Afternoon (1:00 PM - 2:00 PM) - Catch a performance\",\n            \"travelTimeFromPrevious\": \"Right next to the Conservatory.\"\n          },\n         {\n            \"placeName\": \"High Roller Observation Wheel\",\n            \"placeDetails\": \"Enjoy the panoramic views of Las Vegas from 550 feet.\",\n            \"imageUrl\": \"https://www.caesars.com/content/dam/clv/things-to-do/high-roller/caesars-high-roller-exterior-daytime.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1164,\n              \"longitude\": -115.1664\n            },\n            \"ticketPricing\": \"$25 - $37 per person (depending on time of day and promotions)\",\n            \"rating\": 4.5,\n            \"timeToVisit\": \"Evening (8:00 PM - 9:00 PM)\",\n            \"travelTimeFromPrevious\": \"Approx 10 min via taxi or rideshare\"\n          }\n        ]\n      },\n      \"day2\": {\n        \"theme\": \"Downtown Las Vegas (Fremont Street) & Budget-Friendly Entertainment\",\n        \"schedule\": [\n          {\n            \"placeName\": \"Fremont Street Experience\",\n            \"placeDetails\": \"Light and sound show on a massive LED canopy. Free entertainment.\",\n            \"imageUrl\": \"https://vegasexperience.com/wp-content/uploads/2023/10/FSE_website_banner_1000x300.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1700,\n              \"longitude\": -115.1422\n            },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.6,\n            \"timeToVisit\": \"Evening (7:00 PM - 10:00 PM) for the best shows.\",\n            \"travelTimeFromHotel\": \"Ride share (approx. 20-30 minutes from the Strip).\"\n          },\n          {\n            \"placeName\": \"Free Concerts on Fremont Street\",\n            \"placeDetails\": \"Many nights have free concerts on one of the stages on Fremont Street\",\n            \"imageUrl\": \"https://handluggageonly.co.uk/wp-content/uploads/2016/06/Hand-Luggage-Only-7-reasons-why-Downtown-Las-Vegas-rocks-9.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1700,\n              \"longitude\": -115.1422\n            },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.0,\n            \"timeToVisit\": \"Evening (8:00 PM - 9:00 PM)\",\n            \"travelTimeFromPrevious\": \"On Fremont Street.\"\n          },\n           {\n            \"placeName\": \"Gold and Silver Pawn Shop\",\n            \"placeDetails\": \"If you like the TV show pawn stars, then this is a must see place!\",\n            \"imageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/Gold_%26_Silver_Pawn_Shop.jpg/640px-Gold_%26_Silver_Pawn_Shop.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1669,\n              \"longitude\": -115.1488\n            },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.3,\n            \"timeToVisit\": \"Afternoon (2:00 PM - 3:00 PM)\",\n            \"travelTimeFromPrevious\": \"Ride share (approx. 5-10 minutes).\"\n          }\n        ]\n      },\n      \"day3\": {\n        \"theme\": \"Ethel M Chocolate Factory and Cactus Garden\",\n        \"schedule\": [\n            {\n            \"placeName\": \"Ethel M Chocolate Factory\",\n            \"placeDetails\": \"A chocolate factory that offer a self-guided tour and chocolate tasting and you can also walk though the botanical cactus garden\",\n            \"imageUrl\": \"https://www.wheretraveler.com/sites/default/files/styles/body_1200_wide/public/images/Ethel_M_Chocolates_Factory_Tour.jpg?itok=sQ1Tj8yD\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.0261,\n              \"longitude\": -115.0515\n            },\n            \"ticketPricing\": \"Free (Chocolate tasting prices vary)\",\n            \"rating\": 4.6,\n            \"timeToVisit\": \"Morning (10:00 AM - 12:00 PM)\",\n            \"travelTimeFromHotel\": \"Ride share (approx. 15-20 minutes from the Strip).\"\n          },\n          {\n            \"placeName\": \"Seven Magic Mountains\",\n            \"placeDetails\": \"Vibrant art installation south of Las Vegas.\",\n            \"imageUrl\": \"https://sevenmagicmountains.com/wp-content/uploads/2022/03/Seven-Magic-Mountains_1000px_02.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 35.9406,\n              \"longitude\": -115.0842\n            },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.4,\n            \"timeToVisit\": \"Afternoon (1:00 PM - 2:00 PM)\",\n            \"travelTimeFromPrevious\": \"Ride share (approx. 20-30 minutes).\"\n          },\n          {\n            \"placeName\": \"Fly home\",\n            \"placeDetails\": \"Head to the McCarran Airport for your fly home.\",\n            \"imageUrl\": \"https://www.cdaworld.org/wp-content/uploads/2024/03/McCarran-International-Airport-Las-Vegas.png\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.0801,\n              \"longitude\": -115.1523\n            },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.4,\n            \"timeToVisit\": \"Afternoon (3:00 PM - 4:00 PM)\",\n            \"travelTimeFromPrevious\": \"Ride share (approx. 20-30 minutes).\"\n          }\n        ]\n      }\n    }\n  }\n}\n```"},
          ],
        },
      ],
    });
  
 